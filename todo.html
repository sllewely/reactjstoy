<html>
<head>

<script src="https://fb.me/react-with-addons-0.13.3.min.js"></script>
<script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
<!--<script src="reactapp.js" type="text/jsx"></script>-->

</head>
<body>
    
    <div id="content">
    </div>
    
    
<script type="text/jsx">
    var App = React.createClass({

    getInitialState: function(){
        return {
            listItems: ['cats', 'dogs', 'muffins']
        }
    },
    
    addListItem: function(new_item){
        this.setState({
            listItems: this.state.listItems.concat([new_item])
            })
    },

    render: function(){
        return (
            <div>
                <h1>My todo list app</h1>

                <p>Enter text component</p>
                <EnterListItemTextBox handleAdd={this.addListItem} />
                
                <p>List</p>
                <List list={this.state.listItems} />
            </div>
        );   
    } //end render
        
});


// Expects props: list
var List = React.createClass({
    
    render: function() {
        return(
            <div>
                <p>foreach list item</p>
                {this.props.list.map(function(item_text){
                    return <ListItem item={item_text} />
                })}
            </div>
        );
    }
});


// Expects props: item
var ListItem = React.createClass({
    
    render: function() {
        return(
            <div>
                {this.props.item}
            </div>
            )
        }
    
});

// Expects props: addListItem()
var EnterListItemTextBox = React.createClass({
    
    handleClick: function() {
        console.log("I am clicked");
        var text = "";
        this.props.handleAdd("cool");
    },
    
    render: function() {
        return(
            <div>
                <input type="text" />
                <input type="submit" onClick={this.handleClick}/>
            </div>
        );
    }
});

React.render(<App />,  document.getElementById("content"));
</script>
</body>
</html>